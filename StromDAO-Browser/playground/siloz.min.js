!function a(b,c,d){function e(g,h){if(!c[g]){if(!b[g]){var i="function"==typeof require&&require;if(!h&&i)return i(g,!0);if(f)return f(g,!0);var j=new Error("Cannot find module '"+g+"'");throw j.code="MODULE_NOT_FOUND",j}var k=c[g]={exports:{}};b[g][0].call(k.exports,function(a){var c=b[g][1][a];return e(c||a)},k,k.exports,a,b,c,d)}return c[g].exports}for(var f="function"==typeof require&&require,g=0;g<d.length;g++)e(d[g]);return e}({1:[function(a,b,c){!function(a,d){"object"==typeof c&&void 0!==b?b.exports=d():"function"==typeof define&&define.amd?define(d):a.durruti=d()}(this,function(){"use strict";function a(){!0===u&&console.warn.apply(console,arguments)}function b(a,b,c){s.apply(this,arguments),w.push({target:this,type:a,fn:b,capture:c})}function c(a){for(var b=0;b<w.length;)w[b].target===a&&(a.removeEventListener(w[b].type,w[b].fn,w[b].capture),w.splice(b,1),b--),b++;x.forEach(function(b){a[b]=null})}function d(a,b,c){for(var d=0;d<a.childNodes.length;d++)g(a.childNodes[d],b.childNodes[d],c)}function e(a,b){for(var c={},d=0;d<a.attributes.length;d++)c[a.attributes[d].name]=null;for(var e=0;e<b.attributes.length;e++)c[b.attributes[e].name]=b.attributes[e].value;return c}function f(a,b){var c=e(a,b);for(var d in c)c[d]?a.setAttribute(d,c[d]):(a.removeAttribute(d),"checked"===d&&(a.checked=!1))}function g(a,b){var c=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],e={node:a,newNode:b};return c.push(e),a.isEqualNode(b)?(y(a,!0),c):(1!==a.nodeType||1!==b.nodeType||a.tagName!==b.tagName||a.childNodes.length!==b.childNodes.length?e.replace=!0:(e.update=!0,y(a),d(a,b,c)),c)}function h(a){a.replace?a.node.parentNode.replaceChild(a.newNode,a.node):a.update&&f(a.node,a.newNode)}function i(a){return a.forEach(h),a}function j(a){var b;return b="function"==typeof a?new a:Object.create(a),b._durrutiId=String(F++),E.push({id:b._durrutiId,component:b}),b}function k(a){if(a._durruti)return a._durruti;for(var b=a.getAttribute(C),c=0;c<E.length;c++)if(E[c].id===b)return E[c].component}function l(a,b){var c=[].slice.call(a.querySelectorAll(D));return b&&c.push(a),c.forEach(function(a){a._durruti=k(a),a.removeAttribute(C)}),c}function m(a){var b=k(a);b.unmount&&b.unmount(a),o(b)}function n(a){var b=k(a);b.mount&&b.mount(a)}function o(a){if(a){for(var b=0;b<E.length;b++)if(E[b].id===a._durrutiId)return void E.splice(b,1)}else F=0,E.length=0}function p(){var a=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";a=a.trim();var b,c="div";if(0===a.indexOf("<tr")?c="tbody":0===a.indexOf("<td")&&(c="tr"),b=document.createElement(c),b.innerHTML=a,1!==b.children.length)throw new Error("Component template must have a single parent node.",a);return b.firstElementChild}function q(a,b){var c=a.indexOf("/>");-1===c&&(c=a.indexOf(">"));var d=" "+C+'="'+b._durrutiId+'"';return a.substr(0,c)+d+a.substr(c)}function r(a){var b=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];if(a._durruti&&b.push(a),a.children)for(var c=0;c<a.children.length;c++)r(a.children[c],b);return b}var s,t=function(){return"undefined"!=typeof window}(),u=!0,v=function(){},w=[],x=[];t&&(x=function(){var a=[];for(var b in document)"on"===b.substr(0,2)&&a.push(b);return a}(),window.Node.prototype.hasOwnProperty("addEventListener")?(s=window.Node.prototype.addEventListener,window.Node.prototype.addEventListener=b):window.EventTarget.prototype.hasOwnProperty("addEventListener")&&(s=window.EventTarget.prototype.addEventListener,window.EventTarget.prototype.addEventListener=b),v=function(a,b){if(c(a),b&&a.children)for(var d=0;d<a.children.length;d++)v(a.children[d],!0)});var y=v,z="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&"function"==typeof Symbol&&a.constructor===Symbol?"symbol":typeof a},A=function(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")},B=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),C="data-durruti-id",D="["+C+"]",E=[],F=0;return new(function(){function b(){A(this,b)}return B(b,[{key:"server",value:function(){return o(),this}},{key:"render",value:function(b,c){var d=j(b);if(void 0===d.render)throw new Error("Components must have a render() method.");var e=d.render(),f=q(e,d);if(t&&c){var h,o,s=function(){if(!document.body.contains(c))return a("Node",c,"is no longer in the DOM. \nIt was probably removed by a parent component."),{v:void 0};var b=[];h=p(f),r(c).forEach(m),k(c)?(l(h,!0),o=g(c,h),o.forEach(function(a){a.node._durruti=a.newNode._durruti,a.node._durruti&&(a.replace?b.push(a.newNode):a.update?b.push(a.node):Array.prototype.push.apply(b,r(a.node)))}),i(o)):(c.firstElementChild&&c.firstElementChild.isEqualNode(h)||(c.innerHTML=f),b=l(c)),b.forEach(n)}();if("object"===(void 0===s?"undefined":z(s)))return s.v}return f}}]),b}())})},{}],2:[function(a,b,c){!function(a,d){"object"==typeof c&&void 0!==b?b.exports=d():"function"==typeof define&&define.amd?define(d):(a.durruti=a.durruti||{},a.durruti.Store=d())}(this,function(){"use strict";function a(a){return JSON.parse(JSON.stringify(a))}function b(){var b=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},c=arguments[1],d=a(b);return Object.keys(c).forEach(function(a){void 0===d[a]&&(d[a]=c[a])}),d}function c(a,c){c=c||{};var e=!1;d&&(e=!0),this.options=b(c,{history:e}),this.events={change:[]},this.data=[]}var d=function(){return"undefined"!=typeof window}();return c.prototype.trigger=function(a){this.events[a]=this.events[a]||[],this.events[a].slice().forEach(function(a){a()})},c.prototype.on=function(a,b){this.events[a]=this.events[a]||[],this.events[a].push(b)},c.prototype.off=function(a,b){this.events[a]=this.events[a]||[];var c=[].indexOf.call(this.events[a],b);-1!==c&&this.events[a].splice(c,1)},c.prototype.get=function(){var b=this.data[this.data.length-1];return b?a(b):null},c.prototype.list=function(){return a(this.data)},c.prototype.set=function(a){return this.options.history?this.data.push(a):this.data=[a],this.trigger("change"),this.get()},c})},{}],3:[function(a,b,c){!function(a,d){"object"==typeof c&&void 0!==b?b.exports=d():"function"==typeof define&&define.amd?define(d):a.Jotted=d()}(this,function(){"use strict";function a(){var a=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},b=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},c={};return Object.keys(a).forEach(function(b){c[b]=a[b]}),Object.keys(b).forEach(function(d){void 0!==c[d]?c[d]=a[d]:c[d]=b[d]}),c}function b(a,b){var c=new window.XMLHttpRequest;c.open("GET",a),c.responseType="text",c.onload=function(){200===c.status?b(null,c.responseText):b(a,c)},c.onerror=function(a){b(a)},c.send()}function c(a,b,c,e,f){return function(b,g){b&&e.push(b),a++,a<c.length?d(a,g,c,e,f):f(e,g)}}function d(a,b,d,e,f){d[a](b,c.apply(this,arguments))}function e(a,b){var c=arguments.length>2&&void 0!==arguments[2]?arguments[2]:function(){},e=[];if(!a.length)return c(e,b);d(0,b,a,e,c)}function f(a,b){var c=null,d=null;return function(){var e=this,f=arguments;c?d=!0:a.apply(this,arguments),clearTimeout(c),c=setTimeout(function(){d&&a.apply(e,f),c=null,d=null},b)}}function g(a,b){if(!a.className)return!1;var c=" "+a.className+" ";return b=" "+b+" ",-1!==c.indexOf(b)}function h(a,b){return g(a,b)?a.className:(a.className&&(b=" "+b),a.className+=b,a.className)}function i(a,b){var c=" "+b,d=b+" ";return-1!==a.className.indexOf(c)?a.className=a.className.replace(c,""):-1!==a.className.indexOf(d)?a.className=a.className.replace(d,""):a.className=a.className.replace(b,""),a.className}function j(a,b){return a.getAttribute("data-"+b)}function k(){var b=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",c=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",d=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},e=a(d,A);for(var f in e){var g=f.length;if(c.slice(-g++)==="."+f)return e[f]}for(var h in e)if(b===h)return e[h];return b}function l(){return'\n    <ul class="jotted-nav">\n      <li class="jotted-nav-item jotted-nav-item-result">\n        <a href="#" data-jotted-type="result">\n          Result\n        </a>\n      </li>\n      <li class="jotted-nav-item jotted-nav-item-html">\n        <a href="#" data-jotted-type="html">\n          HTML\n        </a>\n      </li>\n      <li class="jotted-nav-item jotted-nav-item-css">\n        <a href="#" data-jotted-type="css">\n          CSS\n        </a>\n      </li>\n      <li class="jotted-nav-item jotted-nav-item-js">\n        <a href="#" data-jotted-type="js">\n          JavaScript\n        </a>\n      </li>\n    </ul>\n    <div class="jotted-pane jotted-pane-result"><iframe></iframe></div>\n    <div class="jotted-pane jotted-pane-html"></div>\n    <div class="jotted-pane jotted-pane-css"></div>\n    <div class="jotted-pane jotted-pane-js"></div>\n  '}function m(a){return"jotted-pane-active-"+a}function n(){return"jotted"}function o(a){return"jotted-has-"+a}function p(a){return"jotted-editor jotted-editor-"+a}function q(a){return'\n    <textarea data-jotted-type="'+a+'" data-jotted-file="'+(arguments.length>1&&void 0!==arguments[1]?arguments[1]:"")+'"></textarea>\n    <div class="jotted-status"></div>\n  '}function r(a){return"\n    <p>"+a+"</p>\n  "}function s(a){return"jotted-status-"+a}function t(a){return"jotted-status-active-"+a}function u(a){return"jotted-plugin-"+a}function v(a){return"Loading <strong>"+a+"</strong>.."}function w(a){return"There was an error loading <strong>"+a+"</strong>."}function x(a){for(var b in E){var c=E[b];if(c._id===a)return c}throw new Error("Plugin "+a+" is not registered.")}function y(a,b){b._id=a,E.push(b)}function z(){var a=this;this._get("options").plugins.forEach(function(b){var c=void 0,d=void 0,e={};"string"==typeof b?d=b:"object"===(void 0===b?"undefined":B(b))&&(d=b.name,e=b.options||{}),c=x(d),a._get("plugins")[b]=new c(a,e),h(a._get("$container"),u(d))})}var A={html:"html",css:"css",js:"javascript",less:"less",styl:"stylus",coffee:"coffeescript"},B="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&"function"==typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a},C=(function(){function a(a){this.value=a}function b(b){function c(a,b){return new Promise(function(c,e){var h={key:a,arg:b,resolve:c,reject:e,next:null};g?g=g.next=h:(f=g=h,d(a,b))})}function d(c,f){try{var g=b[c](f),h=g.value;h instanceof a?Promise.resolve(h.value).then(function(a){d("next",a)},function(a){d("throw",a)}):e(g.done?"return":"normal",g.value)}catch(a){e("throw",a)}}function e(a,b){switch(a){case"return":f.resolve({value:b,done:!0});break;case"throw":f.reject(b);break;default:f.resolve({value:b,done:!1})}f=f.next,f?d(f.key,f.arg):g=null}var f,g;this._invoke=c,"function"!=typeof b.return&&(this.return=void 0)}"function"==typeof Symbol&&Symbol.asyncIterator&&(b.prototype[Symbol.asyncIterator]=function(){return this}),b.prototype.next=function(a){return this._invoke("next",a)},b.prototype.throw=function(a){return this._invoke("throw",a)},b.prototype.return=function(a){return this._invoke("return",a)}}(),function(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}),D=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),E=[],F=function(){function a(){C(this,a),this.topics={},this.callbacks={}}return D(a,[{key:"find",value:function(a){return this.topics[a]=this.topics[a]||[],this.topics[a]}},{key:"subscribe",value:function(a,b){var c=arguments.length>2&&void 0!==arguments[2]?arguments[2]:90,d=this.find(a);b._priority=c,d.push(b),d.sort(function(a,b){return a._priority>b._priority?1:b._priority>a._priority?-1:0})}},{key:"remover",value:function(a,b){a.forEach(function(){if(!b)return void(a.length=0);var c=[].indexOf.call(a,b);-1!==c&&a.splice(c,1)})}},{key:"unsubscribe",value:function(a,b){var c=this.find(a);this.remover(c,b),this.callbacks[a]=this.callbacks[a]||[],this.remover(this.callbacks[a],b)}},{key:"publish",value:function(a){var b=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},c=this.find(a),d=[];c.forEach(function(a){d.push(a)}),e(d,b,this.runCallbacks(a))}},{key:"runCallbacks",value:function(a){var b=this;return function(c,d){b.callbacks[a]=b.callbacks[a]||[],b.callbacks[a].forEach(function(a){a(c,d)})}}},{key:"done",value:function(a){var b=arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(){};this.callbacks[a]=this.callbacks[a]||[],this.callbacks[a].push(b)}}]),a}(),G=function(){function b(c,d){C(this,b),d=a(d,{});var e=!!("srcdoc"in document.createElement("iframe")),f=c.$container.querySelector(".jotted-pane-result iframe"),g={html:"",css:"",js:""};window.addEventListener("message",this.domready.bind(this)),c.on("change",this.change.bind(this),100),this.supportSrcdoc=e,this.content=g,this.frameContent="",this.$resultFrame=f,this.callbacks=[],this.index=0,this.lastCallback=function(){}}return D(b,[{key:"template",value:function(){return"\n      <!doctype html>\n      <html>\n        <head>\n          <script>\n            (function () {\n              window.addEventListener('DOMContentLoaded', function () {\n                window.parent.postMessage(JSON.stringify({\n                  type: 'jotted-dom-ready'\n                }), '*')\n              })\n            }())\n          <\/script>\n\n          <style>"+(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"")+"</style>\n        </head>\n        <body>\n          "+(arguments.length>1&&void 0!==arguments[1]?arguments[1]:"")+"\n\n          \x3c!--\n            Jotted:\n            Empty script tag prevents malformed HTML from breaking the next script.\n          --\x3e\n          <script><\/script>\n          <script>"+(arguments.length>2&&void 0!==arguments[2]?arguments[2]:"")+"<\/script>\n        </body>\n      </html>\n    "}},{key:"change",value:function(a,b){var c=this;this.content[a.type]=a.content;var d=this.frameContent;if(this.frameContent=this.template(this.content.css,this.content.html,this.content.js),this.lastCallback=function(){c.lastCallback=function(){},b(null,a)},!0!==a.forceRender&&this.frameContent===d)return void b(null,a);if(this.supportSrcdoc){var e=document.createElement("iframe");this.$resultFrame.parentNode.replaceChild(e,this.$resultFrame),this.$resultFrame=e,this.$resultFrame.contentWindow.document.open(),this.$resultFrame.contentWindow.document.write(this.frameContent),this.$resultFrame.contentWindow.document.close()}else{this.$resultFrame.setAttribute("data-srcdoc",this.frameContent);var f='javascript:window.frameElement.getAttribute("data-srcdoc");';this.$resultFrame.setAttribute("src",f),this.$resultFrame.contentWindow&&(this.$resultFrame.contentWindow.location=f)}}},{key:"domready",value:function(a){if(a.source===this.$resultFrame.contentWindow){var b={};try{b=JSON.parse(a.data)}catch(a){}"jotted-dom-ready"===b.type&&this.lastCallback()}}}]),b}(),H=function(){function b(c,d){C(this,b),d=a(d,{});var e=["application/javascript","application/ecmascript","application/x-ecmascript","application/x-javascript","text/ecmascript","text/javascript","text/javascript1.0","text/javascript1.1","text/javascript1.2","text/javascript1.3","text/javascript1.4","text/javascript1.5","text/jscript","text/livescript","text/x-ecmascript","text/x-javascript"];c.on("change",this.change.bind(this)),this.runScriptTypes=e}return D(b,[{key:"change",value:function(a,b){if("html"!==a.type)return b(null,a);var c=document.createElement("div");c.innerHTML=a.content;for(var d=null,e=c.querySelectorAll("script"),f=0;f<e.length;f++)(d=e[f].getAttribute("type"))&&-1===this.runScriptTypes.indexOf(d)||e[f].parentNode.removeChild(e[f]);a.content=c.innerHTML,b(null,a)}}]),b}(),I=function(){function b(c,d){C(this,b);var e;if(this.editor={},this.jotted=c,d=a(d,{}),void 0!==window.ace){var f=c.$container.querySelectorAll(".jotted-editor");for(e=0;e<f.length;e++){var g=f[e].querySelector("textarea"),h=j(g,"jotted-type"),i=j(g,"jotted-file"),l=document.createElement("div");f[e].appendChild(l),this.editor[h]=window.ace.edit(l);var m=this.editor[h],n=a(d);m.getSession().setMode("ace/mode/"+k(h,i)),m.getSession().setOptions(n),m.$blockScrolling=1/0}c.on("change",this.change.bind(this),1)}}return D(b,[{key:"editorChange",value:function(a){var b=this;return function(){b.jotted.trigger("change",a)}}},{key:"change",value:function(a,b){var c=this.editor[a.type];a.aceEditor||(c.getSession().setValue(a.content),a.aceEditor=c,c.on("change",this.editorChange(a))),a.content=c.getValue(),b(null,a)}}]),b}(),J=function(){function b(c,d){C(this,b);var e;this.editor={},this.jotted=c;var f={html:"htmlmixed"};if(d=a(d,{lineNumbers:!0}),void 0!==window.CodeMirror){var g=c.$container.querySelectorAll(".jotted-editor");for(e=0;e<g.length;e++){var h=g[e].querySelector("textarea"),i=j(h,"jotted-type"),l=j(h,"jotted-file");this.editor[i]=window.CodeMirror.fromTextArea(h,d),this.editor[i].setOption("mode",k(i,l,f))}c.on("change",this.change.bind(this),1)}}return D(b,[{key:"editorChange",value:function(a){var b=this;return function(){b.jotted.trigger("change",a)}}},{key:"change",value:function(a,b){var c=this.editor[a.type];a.cmEditor||(c.setValue(a.content),a.cmEditor=c,c.on("change",this.editorChange(a))),a.content=c.getValue(),b(null,a)}}]),b}(),K=function(){function b(c,d){C(this,b);d=a(d,{}),void 0!==window.less&&(c.$container.querySelector('a[data-jotted-type="css"]').innerHTML="Less",c.on("change",this.change.bind(this),20))}return D(b,[{key:"isLess",value:function(a){return"css"===a.type&&(-1!==a.file.indexOf(".less")||""===a.file)}},{key:"change",value:function(a,b){this.isLess(a)?window.less.render(a.content,this.options,function(c,d){if(c)return b(c,a);a.content=d.css,b(null,a)}):b(null,a)}}]),b}(),L=function(){function b(c,d){C(this,b);d=a(d,{}),void 0!==window.CoffeeScript&&(c.$container.querySelector('a[data-jotted-type="js"]').innerHTML="CoffeeScript",c.on("change",this.change.bind(this),20))}return D(b,[{key:"isCoffee",value:function(a){return"js"===a.type&&(-1!==a.file.indexOf(".coffee")||""===a.file)}},{key:"change",value:function(a,b){if(this.isCoffee(a))try{a.content=window.CoffeeScript.compile(a.content)}catch(c){return b(c,a)}b(null,a)}}]),b}(),M=function(){function b(c,d){C(this,b);d=a(d,{}),void 0!==window.stylus&&(c.$container.querySelector('a[data-jotted-type="css"]').innerHTML="Stylus",c.on("change",this.change.bind(this),20))}return D(b,[{key:"isStylus",value:function(a){return"css"===a.type&&(-1!==a.file.indexOf(".styl")||""===a.file)}},{key:"change",value:function(a,b){this.isStylus(a)?window.stylus(a.content,this.options).render(function(c,d){if(c)return b(c,a);a.content=d,b(null,a)}):b(null,a)}}]),b}(),N=function(){function b(c,d){C(this,b);if(this.options=a(d,{}),void 0!==window.Babel)this.babel=window.Babel;else{if(void 0===window.babel)return;this.babel={transform:window.babel}}c.$container.querySelector('a[data-jotted-type="js"]').innerHTML="ES2015",c.on("change",this.change.bind(this),20)}return D(b,[{key:"change",value:function(a,b){if("js"===a.type){try{a.content=this.babel.transform(a.content,this.options).code}catch(c){return b(c,a)}b(null,a)}else b(null,a)}}]),b}(),O=function(){function b(c,d){C(this,b);this.options=a(d,{}),void 0!==window.marked&&(window.marked.setOptions(d),c.$container.querySelector('a[data-jotted-type="html"]').innerHTML="Markdown",c.on("change",this.change.bind(this),20))}return D(b,[{key:"change",value:function(a,b){if("html"===a.type){try{a.content=window.marked(a.content)}catch(c){return b(c,a)}b(null,a)}else b(null,a)}}]),b}(),P=function(){function b(c,d){C(this,b),d=a(d,{autoClear:!1});var e=[],f="("+this.capture.toString()+")();",g={html:"",css:"",js:""},i=document.createElement("li");h(i,"jotted-nav-item jotted-nav-item-console"),i.innerHTML='<a href="#" data-jotted-type="console">JS Console</a>';var j=document.createElement("div");h(j,"jotted-pane jotted-pane-console"),j.innerHTML='\n      <div class="jotted-console-container">\n        <ul class="jotted-console-output"></ul>\n        <form class="jotted-console-input">\n          <input type="text">\n        </form>\n      </div>\n      <button class="jotted-button jotted-console-clear">Clear</button>\n    ',c.$container.appendChild(j),c.$container.querySelector(".jotted-nav").appendChild(i);var k=c.$container.querySelector(".jotted-console-container"),l=c.$container.querySelector(".jotted-console-output"),m=c.$container.querySelector(".jotted-console-input input"),n=c.$container.querySelector(".jotted-console-input"),o=c.$container.querySelector(".jotted-console-clear");n.addEventListener("submit",this.submit.bind(this)),m.addEventListener("keydown",this.history.bind(this)),o.addEventListener("click",this.clear.bind(this)),!0===d.autoClear&&c.on("change",this.autoClear.bind(this),29),c.on("change",this.change.bind(this),30),window.addEventListener("message",this.getMessage.bind(this)),this.$jottedContainer=c.$container,this.$container=k,this.$input=m,this.$output=l,this.history=e,this.historyIndex=0,this.logCaptureSnippet=f,this.contentCache=g,this.getIframe=this.getIframe.bind(this)}return D(b,[{key:"getIframe",value:function(){return this.$jottedContainer.querySelector(".jotted-pane-result iframe")}},{key:"getMessage",value:function(a){if(a.source===this.getIframe().contentWindow){var b={};try{b=JSON.parse(a.data)}catch(a){}"jotted-console-log"===b.type&&this.log(b.message)}}},{key:"autoClear",value:function(a,b){var c=a.content;"js"===a.type&&(c=c.replace(this.logCaptureSnippet,"")),!0!==a.forceRender&&this.contentCache[a.type]===c||this.clear(),this.contentCache[a.type]=c,b(null,a)}},{key:"change",value:function(a,b){if("js"!==a.type)return b(null,a);-1===a.content.indexOf(this.logCaptureSnippet)&&(a.content=""+this.logCaptureSnippet+a.content),b(null,a)}},{key:"capture",value:function(){void 0!==window.console&&void 0!==window.console.log||(window.console={log:function(){}});var a=Function.prototype.bind.call(window.console.log,window.console);window.console.log=function(){[].slice.call(arguments).forEach(function(a){window.parent.postMessage(JSON.stringify({type:"jotted-console-log",message:a}),"*")}),a.apply(a,arguments)}}},{key:"log",value:function(){var a=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",b=arguments[1],c=document.createElement("li");h(c,"jotted-console-log"),void 0!==b&&h(c,"jotted-console-log-"+b),c.innerHTML=a,this.$output.appendChild(c)}},{key:"submit",value:function(a){var b=this.$input.value.trim();if(""===b)return a.preventDefault();this.history.push(b),this.historyIndex=this.history.length,this.log(b,"history"),0!==b.indexOf("return")&&(b="return "+b);try{var c=this.getIframe().contentWindow.eval("(function() {"+b+"})()");this.log(c)}catch(a){this.log(a,"error")}this.$input.value="",this.$container.scrollTop=this.$container.scrollHeight,a.preventDefault()}},{key:"clear",value:function(){this.$output.innerHTML=""}},{key:"history",value:function(a){var b=!1,c=this.$input.selectionStart;38===a.keyCode&&0!==this.historyIndex&&0===c&&(this.historyIndex--,b=!0),40===a.keyCode&&this.historyIndex!==this.history.length-1&&c===this.$input.value.length&&(this.historyIndex++,b=!0),b&&(this.$input.value=this.history[this.historyIndex])}}]),b}(),Q=function(){function b(c,d){C(this,b),d=a(d,{firstRun:!0});var e={},f={};!1===d.firstRun&&(e={html:{type:"html",content:""},css:{type:"css",content:""},js:{type:"js",content:""}});var g=document.createElement("button");g.className="jotted-button jotted-button-play",g.innerHTML="Run",c.$container.appendChild(g),g.addEventListener("click",this.run.bind(this)),c.on("change",this.change.bind(this),10),this.cache=e,this.code=f,this.jotted=c}return D(b,[{key:"change",value:function(b,c){this.code[b.type]=a(b),void 0!==this.cache[b.type]?(c(null,this.cache[b.type]),this.cache[b.type].forceRender=null):(this.cache[b.type]=a(b),c(null,b))}},{key:"run",value:function(){for(var b in this.code)this.cache[b]=a(this.code[b],{forceRender:!0}),this.jotted.trigger("change",this.cache[b])}}]),b}(),R=function(){function a(b,c){C(this,a);var d={html:{title:"HTML",classChecker:"jotted-has-html"},css:{title:"CSS",classChecker:"jotted-has-css"},js:{title:"JavaScript",classChecker:"jotted-has-js"},console:{title:"Console",classChecker:"jotted-plugin-console"}},e=[];for(var f in d)b.$container.classList.contains(d[f].classChecker)&&e.push(b.$container.querySelector(".jotted-pane-"+f));this.resizablePanes=[];for(var g=0;g<e.length;g++){for(var h=void 0,i=0;i<e[g].classList.length;i++)if(-1!==e[g].classList[i].indexOf("jotted-pane-")){h=e[g].classList[i].replace("jotted-pane-","");break}if(h){var j={container:e[g],expander:void 0};this.resizablePanes.push(j);var k=document.createElement("div");k.classList.add("jotted-pane-title"),k.innerHTML=d[h].title||h;var l=e[g].firstElementChild;l.insertBefore(k,l.firstChild),g>0&&(j.expander=document.createElement("div"),j.expander.classList.add("jotted-plugin-pen-expander"),j.expander.addEventListener("mousedown",this.startExpand.bind(this,b)),l.insertBefore(j.expander,k))}}}return D(a,[{key:"startExpand",value:function(a,b){var c=this.resizablePanes.filter(function(a){return a.expander===b.target}).shift(),d=this.resizablePanes[this.resizablePanes.indexOf(c)-1],e=100/parseInt(window.getComputedStyle(c.container.parentNode).width,10);c.container.parentNode.style.display="none",c.startX=b.clientX,c.startWidth=parseFloat(window.getComputedStyle(c.container).width,10),d.startWidth=parseFloat(window.getComputedStyle(d.container).width,10),c.container.parentNode.style.display="",c.mousemove=this.doDrag.bind(this,c,d,e),c.mouseup=this.stopDrag.bind(this,c),document.addEventListener("mousemove",c.mousemove,!1),document.addEventListener("mouseup",c.mouseup,!1)}},{key:"doDrag",value:function(a,b,c,d){var e=b.startWidth+(d.clientX-a.startX)*c,f=a.startWidth-(d.clientX-a.startX)*c;e>=10&&f>=10&&(a.container.style.maxWidth="none",b.container.style.maxWidth="none",b.container.style.width=e+"%",a.container.style.width=f+"%")}},{key:"stopDrag",value:function(a,b){document.removeEventListener("mousemove",a.mousemove,!1),document.removeEventListener("mouseup",a.mouseup,!1)}}]),a}(),S=function(){function c(b,d){if(C(this,c),!b)throw new Error("Can't find Jotted container.");var e={};this._get=function(a){return e[a]},this._set=function(a,b){return e[a]=b,e[a]};var g=this._set("options",a(d,{files:[],showBlank:!1,runScripts:!0,pane:"result",debounce:250,plugins:[]}));g.plugins.push("render"),!1===g.runScripts&&g.plugins.push("scriptless"),this._set("cachedContent",{html:null,css:null,js:null});var i=this._set("pubsoup",new F);this._set("trigger",this.trigger()),this._set("on",function(){i.subscribe.apply(i,arguments)}),this._set("off",function(){i.unsubscribe.apply(i,arguments)}),this._set("done",function(){i.done.apply(i,arguments)})("change",this.errors.bind(this));var j=this._set("$container",b);j.innerHTML=l(),h(j,n()),h(j,m(this._set("paneActive",g.pane))),this._set("$status",{});for(var k=["html","css","js"],p=0;p<k.length;p++){var q=k[p];this.markup(q)}j.addEventListener("keyup",f(this.change.bind(this),g.debounce)),j.addEventListener("change",f(this.change.bind(this),g.debounce)),j.addEventListener("click",this.pane.bind(this)),this.$container=this._get("$container"),this.on=this._get("on"),this.off=this._get("off"),this.done=this._get("done"),this.trigger=this._get("trigger"),this.paneActive=this._get("paneActive"),this._set("plugins",{}),z.call(this);for(var r=["html","css","js"],s=0;s<r.length;s++){var t=r[s];this.load(t)}if(g.showBlank)for(var u=["html","css","js"],v=0;v<u.length;v++){var w=u[v];h(j,o(w))}}return D(c,[{key:"findFile",value:function(a){var b={},c=this._get("options");for(var d in c.files){var e=c.files[d];if(e.type===a)return e}return b}},{key:"markup",value:function(a){var b=this._get("$container"),c=b.querySelector(".jotted-pane-"+a),d=this.findFile(a),e=document.createElement("div");e.innerHTML=q(a,d.url),e.className=p(a),c.appendChild(e),this._get("$status")[a]=c.querySelector(".jotted-status"),void 0===d.url&&void 0===d.content||h(b,o(a))}},{key:"load",value:function(a){var c=this,d=this.findFile(a),e=this._get("$container").querySelector(".jotted-pane-"+a+" textarea");void 0!==d.content?this.setValue(e,d.content):void 0!==d.url?(this.status("loading",[v(d.url)],{type:a,file:d}),b(d.url,function(b,d){if(b)return void c.status("error",[w(b)],{type:a});c.clearStatus("loading",{type:a}),c.setValue(e,d)})):this.setValue(e,"")}},{key:"setValue",value:function(a,b){a.value=b,this.change({target:a})}},{key:"change",value:function(a){var b=j(a.target,"jotted-type");if(b){var c=this._get("cachedContent");c[b]!==a.target.value&&(c[b]=a.target.value,this.trigger("change",{type:b,file:j(a.target,"jotted-file"),content:c[b]}))}}},{key:"errors",value:function(a,b){this.status("error",a,b)}},{key:"pane",value:function(a){if(j(a.target,"jotted-type")){var b=this._get("$container"),c=this._get("paneActive");i(b,m(c)),c=this._set("paneActive",j(a.target,"jotted-type")),h(b,m(c)),a.preventDefault()}}},{key:"status",value:function(){var a=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"error",b=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],c=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(!b.length)return this.clearStatus(a,c);var d=this._get("$status");h(d[c.type],s(a)),h(this._get("$container"),t(c.type));var e="";b.forEach(function(a){e+=r(a)}),d[c.type].innerHTML=e}},{key:"clearStatus",value:function(a,b){var c=this._get("$status");i(c[b.type],s(a)),i(this._get("$container"),t(b.type)),c[b.type].innerHTML=""}},{key:"trigger",value:function(){var a=this._get("options"),b=this._get("pubsoup");if(!1===a.debounce)return function(){b.publish.apply(b,arguments)};var c={},d={};return function(e){var f=arguments,g=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},h=g.type,i=void 0===h?"default":h;c[i]?d[i]=!0:b.publish.apply(b,arguments),clearTimeout(c[i]),c[i]=setTimeout(function(){d[i]&&b.publish.apply(b,f),d[i]=null,c[i]=null},a.debounce)}}}]),c}();return S.plugin=function(){return y.apply(this,arguments)},function(a){a.plugin("render",G),a.plugin("scriptless",H),a.plugin("ace",I),a.plugin("codemirror",J),a.plugin("less",K),a.plugin("coffeescript",L),a.plugin("stylus",M),a.plugin("babel",N),a.plugin("markdown",O),a.plugin("console",P),a.plugin("play",Q),a.plugin("pen",R)}(S),S})},{}],4:[function(a,b,c){var d=function(){function a(a,b){if(!e[a]){e[a]={};for(var c=0;c<a.length;c++)e[a][a.charAt(c)]=c}return e[a][b]}var b=String.fromCharCode,c="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",d="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+-$",e={},f={compressToBase64:function(a){if(null==a)return"";var b=f._compress(a,6,function(a){return c.charAt(a)});switch(b.length%4){default:case 0:return b;case 1:return b+"===";case 2:return b+"==";case 3:return b+"="}},decompressFromBase64:function(b){return null==b?"":""==b?null:f._decompress(b.length,32,function(d){return a(c,b.charAt(d))})},compressToUTF16:function(a){return null==a?"":f._compress(a,15,function(a){return b(a+32)})+" "},decompressFromUTF16:function(a){return null==a?"":""==a?null:f._decompress(a.length,16384,function(b){return a.charCodeAt(b)-32})},compressToUint8Array:function(a){for(var b=f.compress(a),c=new Uint8Array(2*b.length),d=0,e=b.length;d<e;d++){var g=b.charCodeAt(d);c[2*d]=g>>>8,c[2*d+1]=g%256}return c},decompressFromUint8Array:function(a){if(null===a||void 0===a)return f.decompress(a);for(var c=new Array(a.length/2),d=0,e=c.length;d<e;d++)c[d]=256*a[2*d]+a[2*d+1];var g=[];return c.forEach(function(a){g.push(b(a))}),
f.decompress(g.join(""))},compressToEncodedURIComponent:function(a){return null==a?"":f._compress(a,6,function(a){return d.charAt(a)})},decompressFromEncodedURIComponent:function(b){return null==b?"":""==b?null:(b=b.replace(/ /g,"+"),f._decompress(b.length,32,function(c){return a(d,b.charAt(c))}))},compress:function(a){return f._compress(a,16,function(a){return b(a)})},_compress:function(a,b,c){if(null==a)return"";var d,e,f,g={},h={},i="",j="",k="",l=2,m=3,n=2,o=[],p=0,q=0;for(f=0;f<a.length;f+=1)if(i=a.charAt(f),Object.prototype.hasOwnProperty.call(g,i)||(g[i]=m++,h[i]=!0),j=k+i,Object.prototype.hasOwnProperty.call(g,j))k=j;else{if(Object.prototype.hasOwnProperty.call(h,k)){if(k.charCodeAt(0)<256){for(d=0;d<n;d++)p<<=1,q==b-1?(q=0,o.push(c(p)),p=0):q++;for(e=k.charCodeAt(0),d=0;d<8;d++)p=p<<1|1&e,q==b-1?(q=0,o.push(c(p)),p=0):q++,e>>=1}else{for(e=1,d=0;d<n;d++)p=p<<1|e,q==b-1?(q=0,o.push(c(p)),p=0):q++,e=0;for(e=k.charCodeAt(0),d=0;d<16;d++)p=p<<1|1&e,q==b-1?(q=0,o.push(c(p)),p=0):q++,e>>=1}l--,0==l&&(l=Math.pow(2,n),n++),delete h[k]}else for(e=g[k],d=0;d<n;d++)p=p<<1|1&e,q==b-1?(q=0,o.push(c(p)),p=0):q++,e>>=1;l--,0==l&&(l=Math.pow(2,n),n++),g[j]=m++,k=String(i)}if(""!==k){if(Object.prototype.hasOwnProperty.call(h,k)){if(k.charCodeAt(0)<256){for(d=0;d<n;d++)p<<=1,q==b-1?(q=0,o.push(c(p)),p=0):q++;for(e=k.charCodeAt(0),d=0;d<8;d++)p=p<<1|1&e,q==b-1?(q=0,o.push(c(p)),p=0):q++,e>>=1}else{for(e=1,d=0;d<n;d++)p=p<<1|e,q==b-1?(q=0,o.push(c(p)),p=0):q++,e=0;for(e=k.charCodeAt(0),d=0;d<16;d++)p=p<<1|1&e,q==b-1?(q=0,o.push(c(p)),p=0):q++,e>>=1}l--,0==l&&(l=Math.pow(2,n),n++),delete h[k]}else for(e=g[k],d=0;d<n;d++)p=p<<1|1&e,q==b-1?(q=0,o.push(c(p)),p=0):q++,e>>=1;l--,0==l&&(l=Math.pow(2,n),n++)}for(e=2,d=0;d<n;d++)p=p<<1|1&e,q==b-1?(q=0,o.push(c(p)),p=0):q++,e>>=1;for(;;){if(p<<=1,q==b-1){o.push(c(p));break}q++}return o.join("")},decompress:function(a){return null==a?"":""==a?null:f._decompress(a.length,32768,function(b){return a.charCodeAt(b)})},_decompress:function(a,c,d){var e,f,g,h,i,j,k,l=[],m=4,n=4,o=3,p="",q=[],r={val:d(0),position:c,index:1};for(e=0;e<3;e+=1)l[e]=e;for(g=0,i=Math.pow(2,2),j=1;j!=i;)h=r.val&r.position,r.position>>=1,0==r.position&&(r.position=c,r.val=d(r.index++)),g|=(h>0?1:0)*j,j<<=1;switch(g){case 0:for(g=0,i=Math.pow(2,8),j=1;j!=i;)h=r.val&r.position,r.position>>=1,0==r.position&&(r.position=c,r.val=d(r.index++)),g|=(h>0?1:0)*j,j<<=1;k=b(g);break;case 1:for(g=0,i=Math.pow(2,16),j=1;j!=i;)h=r.val&r.position,r.position>>=1,0==r.position&&(r.position=c,r.val=d(r.index++)),g|=(h>0?1:0)*j,j<<=1;k=b(g);break;case 2:return""}for(l[3]=k,f=k,q.push(k);;){if(r.index>a)return"";for(g=0,i=Math.pow(2,o),j=1;j!=i;)h=r.val&r.position,r.position>>=1,0==r.position&&(r.position=c,r.val=d(r.index++)),g|=(h>0?1:0)*j,j<<=1;switch(k=g){case 0:for(g=0,i=Math.pow(2,8),j=1;j!=i;)h=r.val&r.position,r.position>>=1,0==r.position&&(r.position=c,r.val=d(r.index++)),g|=(h>0?1:0)*j,j<<=1;l[n++]=b(g),k=n-1,m--;break;case 1:for(g=0,i=Math.pow(2,16),j=1;j!=i;)h=r.val&r.position,r.position>>=1,0==r.position&&(r.position=c,r.val=d(r.index++)),g|=(h>0?1:0)*j,j<<=1;l[n++]=b(g),k=n-1,m--;break;case 2:return q.join("")}if(0==m&&(m=Math.pow(2,o),o++),l[k])p=l[k];else{if(k!==n)return null;p=f+f.charAt(0)}q.push(p),l[n++]=f+p.charAt(0),m--,f=p,0==m&&(m=Math.pow(2,o),o++)}}};return f}();"function"==typeof define&&define.amd?define(function(){return d}):void 0!==b&&null!=b&&(b.exports=d)},{}],5:[function(a,b,c){"use strict";var d=a("durruti"),e=a("./components/main.js");d.render(e,document.querySelector(".app"))},{"./components/main.js":13,durruti:1}],6:[function(a,b,c){"use strict";function d(a){function b(a,b){var c=null;return a.some(function(a){if(a.plugin===b)return c=a,!0}),c}function c(c){return function(){a.removePlugin(i[c]),i[c]=this.value;var d=b(h[c],i[c]);d&&a.addPlugin(d.plugin)}}function d(a,b,c){return'\n      <select class="select editor-bar-select-'+a+'">\n        '+b.map(function(a){return'\n            <option value="'+(a.plugin||"")+'" '+(a.plugin===c?"selected":"")+">\n              "+a.title+"\n            </option>\n          "}).join("")+"\n      </select>\n    "}function e(){Object.keys(h).forEach(function(a){h[a].forEach(function(b){-1!==g.indexOf(b.plugin)&&(i[a]=b.plugin)})})}function f(b){return function(){var c={};c[b]={hidden:!0},a.updatePanes(c)}}var g=a.getPlugins(),h={html:[{title:"HTML"},{title:"Markdown",plugin:"markdown"}],css:[{title:"CSS"},{title:"Less",plugin:"less"},{title:"Stylus",plugin:"stylus"}],js:[{title:"JavaScript"},{title:"ES2015/Babel",plugin:"babel"},{title:"CoffeeScript",plugin:"coffeescript"}]},i={html:"",css:"",js:""};this.mount=function(a){for(var b=["html","css","js"],d=0;d<b.length;d++){var e=b[d];a.querySelector(".editor-bar-select-"+e).addEventListener("change",c(e)),a.querySelector(".editor-bar-pane-close-"+e).addEventListener("click",f(e))}},this.render=function(){return e(),'\n      <div class="editor-bar">\n        <div class="editor-bar-pane editor-bar-pane-html">\n          '+d("html",h.html,i.html)+'\n\n          <button type="button" class="editor-bar-pane-close editor-bar-pane-close-html btn" title="Hide HTML">\n            <i class="icon icon-close"></i>\n          </button>\n        </div>\n        <div class="editor-bar-pane editor-bar-pane-css">\n          '+d("css",h.css,i.css)+'\n\n          <button type="button" class="editor-bar-pane-close editor-bar-pane-close-css btn" title="Hide CSS">\n            <i class="icon icon-close"></i>\n          </button>\n        </div>\n        <div class="editor-bar-pane editor-bar-pane-js">\n          '+d("js",h.js,i.js)+'\n\n          <button type="button" class="editor-bar-pane-close editor-bar-pane-close-js btn" title="Hide JavaScript">\n            <i class="icon icon-close"></i>\n          </button>\n        </div>\n        <div class="editor-bar-pane"></div>\n      </div>\n    '}}b.exports=d},{}],7:[function(a,b,c){"use strict";function d(a){e=a,this.mount=function(b){var c=a.getPlugins(),d=[];Object.keys(h).forEach(function(a){-1!==c.indexOf(a)&&Array.prototype.push.apply(d,h[a].map(function(a){return function(b){f.loadScript(a,b)}}))}),Array.prototype.push.apply(c,["siloz",{name:"codemirror",options:{theme:a.getTheme(),lineWrapping:!0}}]),f.async(d,function(){new g(b,{files:a.getFiles(),plugins:c})})},this.render=function(){return'<div class="editor-widget jotted-theme-siloz"></div>'}}var e,f=a("../../util"),g=a("jotted");g.plugin("siloz",function(a,b){a.on("change",function(a,b){e.updateFile({type:a.type,content:a.content}),b(null,a)},2)});var h={markdown:["https://cdnjs.cloudflare.com/ajax/libs/marked/0.3.6/marked.min.js"],less:["https://cdnjs.cloudflare.com/ajax/libs/less.js/2.7.1/less.min.js"],stylus:["/libs/stylus.min.js"],coffeescript:["https://cdn.jsdelivr.net/gh/jashkenas/coffeescript@1.11.1/extras/coffee-script.js"],es2015:["https://cdnjs.cloudflare.com/ajax/libs/babel-core/6.1.19/browser.min.js"]};b.exports=d},{"../../util":20,jotted:3}],8:[function(a,b,c){"use strict";function d(a){var b=a.getPanes();console.log("panes",b),this.render=function(){return'\n      <div class="editor\n        '+(b.html.hidden?"editor-is-hidden-html":"")+"\n        editor-is-hidden-css\n        "+(b.js.hidden?"editor-is-hidden-js":"")+'\n      ">\n        '+e.render(new f(a))+"\n        "+e.render(new g(a))+"\n      </div>\n    "}}var e=a("durruti"),f=a("./editor-bar"),g=a("./editor-widget");b.exports=d},{"./editor-bar":6,"./editor-widget":7,durruti:1}],9:[function(a,b,c){"use strict";function d(a,b){var c=e.inherits(this,f);return f.call(c,"about",b),c.mount=c.super.mount.bind(c),c.unmount=c.super.unmount.bind(c),c.render=function(){return c.super.render.call(c,"About",'\n      <p>\n        <a href="/">siloz.io</a> is a private code playground in the browser.\n      </p>\n\n      <p>\n        Your source code is saved in the URL and never reaches our servers.\n      </p>\n\n      <p>\n        Use HTML, CSS and JavaScript, along with processors like CoffeeScript, Babel/ES2015, Less, Stylus or Markdown.\n      </p>\n\n      <h2>\n        Short URLs\n      </h2>\n\n      <p>\n        siloz.io can generate shorter urls, at a privacy cost.\n      </p>\n\n      <p>\n        When a short url is generated, the url  - that includes the source code - is saved on the server, along with a unique token.\n      </p>\n\n      <p>\n        <a href="https://github.com/ghinda/siloz.io" target="_blank">\n          Source code available on GitHub.\n        </a>\n      </p>\n    ')},c}var e=a("../../util"),f=a("../popup");b.exports=d},{"../../util":20,"../popup":14}],10:[function(a,b,c){"use strict";function d(a){function b(){j.updateLoading("collaborate",!1)}var c,h=i.get(),j=i.actions,k=j.getLoading("collaborate"),l=function(){var b=i.get();JSON.stringify(h)!==JSON.stringify(b)&&e.render(new d(a),c)};this.mount=function(a){c=a,c.querySelector(".collaborate").addEventListener("click",function(){j.updateLoading("collaborate",!0),window.TogetherJS(),window.TogetherJS.on("ready",b),window.TogetherJS.on("close",b)}),i.on("change",l)},this.unmount=function(){window.TogetherJS&&(window.TogetherJS.off("ready",b),window.TogetherJS.off("close",b)),i.off("change",l)},this.render=function(){return'\n       <div class="row">\n       <button type="button" class="btn btn-small collaborate btn-small btn-default '+(k?"is-loading":"")+'">\n          Collaborate\n        </button>\n       </div>\n       <div class="row" style="display:none">\t       \n\t\t '+e.render(new f(a,i.actions))+"\n         "+e.render(new g(a,i.actions))+"\n       </div>\n     \n     \n    "}}var e=a("durruti"),f=a("./settings"),g=a("./share"),h=(a("./about"),a("../../state/store-internal")),i=new h;b.exports=d},{"../../state/store-internal":18,"./about":9,"./settings":11,"./share":12,durruti:1}],11:[function(a,b,c){"use strict";function d(a,b){function c(b){return function(c){var d={};return d[b]={hidden:!c.target.checked},a.updatePanes(d)}}function d(){a.updateTheme(this.value)}var g=e.inherits(this,f);f.call(g,"settings",b);var h=a.getPanes(),i=a.getTheme();return g.mount=function(a){g.super.mount.call(g,a);var b=a.querySelector(".settings-show-html"),e=a.querySelector(".settings-show-css"),f=a.querySelector(".settings-show-js");b.addEventListener("change",c("html")),e.addEventListener("change",c("css")),f.addEventListener("change",c("js")),a.querySelector(".settings-theme").addEventListener("change",d)},g.unmount=g.super.unmount.bind(g),g.render=function(){return g.super.render.call(g,"Settings",'\n      <fieldset>\n        <legend>\n          Tabs\n        </legend>\n\n        <label>\n          <input type="checkbox" class="settings-show-html" '+(h.html.hidden?"":"checked")+'>\n          HTML\n        </label>\n\n        <label>\n          <input type="checkbox" class="settings-show-css" '+(h.css.hidden?"":"checked")+'>\n          CSS\n        </label>\n\n        <label>\n          <input type="checkbox" class="settings-show-js" '+(h.js.hidden?"":"checked")+'>\n          JavaScript\n        </label>\n      </fieldset>\n\n      <fieldset>\n        <legend>\n          Theme\n        </legend>\n\n        <select class="settings-theme select">\n          <option value="solarized light" '+("solarized light"===i?"selected":"")+'>\n            Solarized Light\n          </option>\n          <option value="solarized dark" '+("solarized dark"===i?"selected":"")+">\n            Solarized Dark\n          </option>\n        </select>\n      </fieldset>\n    ")},g}var e=a("../../util"),f=a("../popup");b.exports=d},{"../../util":20,"../popup":14}],12:[function(a,b,c){"use strict";function d(a,b){function c(a){return function(b){var c=e.closest(b.target,".btn");a.select();try{document.execCommand("copy"),c.innerHTML="Copied",setTimeout(function(){c.innerHTML="Copy"},2e3)}catch(a){}}}function d(){b.updateLoading("generate-url",!0),a.updateShortUrl(function(){b.updateLoading("generate-url",!1)})}var g=e.inherits(this,f);f.call(g,"share",b);var h,i=a.getShortUrl(),j="",k=b.getLoading("generate-url");return"undefined"!=typeof window&&(j=window.location.href),g.mount=function(b){g.super.mount.call(g,b);var e=b.querySelector(".share-url-input-short"),f=b.querySelector(".share-url-copy-short"),j=b.querySelector(".share-url-input-long"),k=b.querySelector(".share-url-copy-long");f.addEventListener("click",c(e)),k.addEventListener("click",c(j)),b.querySelector(".share-generate").addEventListener("click",d),i&&(h=setTimeout(function(){a.startShortUrlUpdater()},1e3))},g.unmount=function(){g.super.unmount.call(g),h&&clearTimeout(h),i&&a.stopShortUrlUpdater()},g.render=function(){return g.super.render.call(g,"Share",'\n      <fieldset class="'+(i?"share-is-generated":"")+'">\n        <legend>\n          Short URL\n        </legend>\n\n        <button type="button" class="btn btn-primary share-generate '+(k?"is-loading":"")+'">\n          Generate Short URL\n        </button>\n\n        <div class="share-url share-url-short">\n          <input type="text" class="share-url-input share-url-input-short" value="'+i+'" readonly>\n          <button type="button" class="btn share-url-copy share-url-copy-short">\n            Copy\n          </button>\n        </div>\n      </fieldset>\n      <fieldset>\n        <legend>\n          Persistent URL\n        </legend>\n\n        <div class="share-url">\n          <input type="text" class="share-url-input share-url-input-long" value="'+j+'" readonly>\n          <button type="button" class="btn share-url-copy share-url-copy-long">\n            Copy\n          </button>\n        </div>\n      </fieldset>\n    ')},g}var e=a("../../util"),f=a("../popup");b.exports=d},{"../../util":20,"../popup":14}],13:[function(a,b,c){"use strict";function d(){var a,b=i.get(),c=i.actions.getTheme(),h=function(){var c=i.get();delete b.files,delete c.files,JSON.stringify(b)!==JSON.stringify(c)&&e.render(d,a)};this.mount=function(b){a=b,console.log("MOUNT",b),i.on("change",h)},this.unmount=function(){console.log("uMOUNT"),i.off("change",h)},this.render=function(){return'\n      <div class="main siloz-theme-'+c.replace(/ /g,"-")+'">\n        '+e.render(new f(i.actions))+"\n        "+e.render(new g(i.actions))+"\n      </div>\n    "}}var e=a("durruti"),f=a("./header/header"),g=a("./editor/editor"),h=a("../state/store"),i=new h;b.exports=d},{"../state/store":19,"./editor/editor":8,"./header/header":10,durruti:1}],14:[function(a,b,c){"use strict";function d(a,b){this.name=a,this.state=b.getPopup(a),this.actions=b,this.togglePopup=this.prototype.togglePopup.bind(this),this.hidePopup=this.prototype.hidePopup.bind(this)}var e=a("../util");d.prototype.togglePopup=function(){this.state=!this.state,this.actions.updatePopup(this.name,this.state)},d.prototype.hidePopup=function(a){!e.closest(a.target,".popup")&&a.target!==this.$button&&this.state&&this.actions.updatePopup(this.name,!1)},d.prototype.mount=function(a){this.$container=a,this.$button=a.querySelector(".popup-button"),this.$button.addEventListener("click",this.togglePopup),document.addEventListener("click",this.hidePopup)},d.prototype.unmount=function(){document.removeEventListener("click",this.hidePopup)},d.prototype.render=function(a,b){return'\n    <div class="popup-container '+this.name+" "+(this.state?"popup-container-is-open":"")+'">\n      <button type="button" class="'+this.name+'-button popup-button btn">\n        '+a+'\n      </button>\n\n      <form class="'+this.name+'-popup popup">\n        '+b+"\n      </form>\n    </div>\n  "},b.exports=d},{"../util":20}],15:[function(a,b,c){"use strict";function d(a){function b(b){return a.get().popup[b]}function c(b,c){var d=a.get();d.popup[b]=c,a.set(d)}function d(b){return a.get().loading[b]}function e(b,c){var d=a.get();d.loading[b]=c,a.set(d)}return{getPopup:b,updatePopup:c,getLoading:d,updateLoading:e}}b.exports=d},{}],16:[function(a,b,c){"use strict";function d(a){function b(){var b=a.get().files;return console.log("GETFILES",b,a),0==b[0].content.length&&(b[0].content+='<div class="container">',b[0].content+="\n\r\n\r",b[0].content+="\x3c!-- Your View Code --\x3e",b[0].content+="\n\r\n\r",b[0].content+="\n\r\n\r",b[0].content+="\x3c!-- /Your View Code --\x3e",b[0].content+="\n\r\n\r",b[0].content+="</div>",b[0].content+="\n\r\n\r",b[0].content+="\n\r\n\r",b[0].content+="\n\r\n\r",b[0].content+='<script src="https://cdn.jsdelivr.net/gh/energychain/StromDAO-BusinessObject/dist/loader.js"><\/script>',b[0].content+='<script src="http://code.jquery.com/jquery-3.2.1.min.js"><\/script>',b[0].content+='<link href="https://demo.stromdao.de/css/bootstrap.min.css" rel="stylesheet" type="text/css"/>',b[0].content+='<script src="https://demo.stromdao.de/js/bootstrap.min.js"><\/script>',b[0].content+="\n\r\n\r",b[2].content='var node = new document.StromDAOBO.Node({external_id:$(\'#extid\').val(),testMode:true,rpc:"https://demo.stromdao.de/rpc",abilocation:"https://cdn.jsdelivr.net/gh/energychain/StromDAO-BusinessObject@6dc9e073/smart_contracts/"});'),b}function c(b){var c=a.get();return c.files.some(function(a,d){if(a.type===b.type)return c.files[d]=f.extend(b,c.files[d]),!0}),a.set(c)}function d(){return a.get().plugins}function h(b){var c=a.get();return c.plugins.push(b),a.set(c)}function i(b){var c=a.get(),d="";return d="object"===(void 0===b?"undefined":e(b))?b.name:b,c.plugins.some(function(a,b){if("object"===(void 0===a?"undefined":e(a))&&a.name===d||"string"==typeof a&&a===d)return c.plugins.splice(b,1),!0}),a.set(c)}function j(){return a.get().panes}function k(b){var c=a.get();return c.panes=f.extend(b,c.panes),a.set(c)}function l(){return a.get().theme}function m(b){var c=a.get();return c.theme=b,a.set(c)}function n(){return a.get().short_url}function o(b){var c=arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(){};"function"==typeof b&&(c=b,b=!1);var d=n();!d||b?(r=window.location.href,g.create({long_url:r},function(b,d){if(b)return console.log(b);var e=a.get();e.short_url=d.short_url,a.set(e),r=window.location.href,g.update({long_url:r,short_url:d.short_url},function(a,b){if(a)return console.log(a);c()})})):r!==window.location.href&&(r=window.location.href,g.update({long_url:r,short_url:d},function(b,d){if(b){q();var e=a.get();return e.short_url="",a.set(e),console.log(b)}c()}))}function p(){a.on("change",s)}function q(){a.off("change",s)}var r="",s=f.debounce(o,500);return{getFiles:b,updateFile:c,getPlugins:d,addPlugin:h,removePlugin:i,getPanes:j,updatePanes:k,getTheme:l,updateTheme:m,getShortUrl:n,updateShortUrl:o,startShortUrlUpdater:p,stopShortUrlUpdater:q}}var e="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&"function"==typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a},f=a("../util"),g=a("./short-url");b.exports=d},{"../util":20,"./short-url":17}],17:[function(a,b,c){"use strict";function d(a){l=j.extend(a,l),window.localStorage.setItem(k,JSON.stringify(l))}function e(a){var b=arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(){};j.fetch(h+"/api/",{type:"POST",data:a},function(a,c){if(a)return b(a);c.short_url=i+"/"+c.short_url,d({token:c.token}),b(null,c)})}function f(a){var b=arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(){};a.short_url=a.short_url.replace(i+"/",""),a.token=l.token,j.fetch(h+"/api/",{type:"PUT",data:a},function(a,c){if(a)return b(a);b(null,c)})}var g="local";"undefined"!=typeof window&&"localhost"!==window.location.hostname&&(g="live");var h="http://localhost:3000",i=h;"local"!==g&&(h="https://prajina-ghinda.rhcloud.com",i="http://s.siloz.io");var j=a("../util"),k="siloz-io",l=function(){try{var a=window.localStorage.getItem(k);if(a)return JSON.parse(a)}catch(a){return{}}return{}}();b.exports={create:e,update:f}},{"../util":20}],18:[function(a,b,c){"use strict";var d=a("durruti/store"),e=a("./actions-internal"),f={popup:{},loading:{}},g=function(){d.call(this),this.actions=e(this),this.set(f)};g.prototype=Object.create(d.prototype),b.exports=g},{"./actions-internal":15,"durruti/store":2}],19:[function(a,b,c){"use strict";function d(){return"undefined"==typeof window?function(){}:void 0!==window.history.replaceState?function(a){window.history.replaceState(null,null,"#"+a)}:function(a){window.location.replace(window.location.href.split("#")[0]+"#"+a)}}function e(){if("undefined"==typeof window)return null;try{return JSON.parse(g.decompressFromEncodedURIComponent(i.hash("s")))}catch(a){}return null}var f=a("durruti/store"),g=a("lz-string"),h=a("./actions"),i=a("../util"),j={version:1,files:[{type:"html",content:""},{type:"css",content:""},{type:"js",content:""}],plugins:[],theme:"solarized light",panes:{html:{},css:{},js:{}},short_url:""},k=function(){var a=this;f.call(this),this.actions=h(this);var b=d(),c="",k=e();k?this.set(i.extend(k,j)):this.set(j),this.on("change",function(){var d=a.get();0==d.files[0].content.length&&(d.files[0].content="<h1>Danke!</h1>"),console.log("SAVE DATA",d),c=g.compressToEncodedURIComponent(JSON.stringify(d)),b(i.hash("s",c))}),"undefined"!=typeof window&&window.addEventListener("hashchange",function(){i.hash("s")!==c&&window.location.reload()})};k.prototype=Object.create(f.prototype),b.exports=k},{"../util":20,"./actions":16,"durruti/store":2,"lz-string":4}],20:[function(a,b,c){"use strict";function d(a,b){for(var c;a&&a!==document;){if(!a.parentNode)return null;if(c=a.parentNode.querySelectorAll(b),-1!==[].indexOf.call(c,a))return a;a=a.parentNode}return null}function e(a){return JSON.parse(JSON.stringify(a))}function f(a){var b=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return Object.keys(b).forEach(function(c){void 0===a[c]?a[c]=e(b[c]):"object"===n(a[c])&&f(a[c],b[c])}),a}function g(a,b){return null===a&&(a={}),f(e(a),b)}function h(a,b,c){var d;return function(){var e=this,f=arguments,g=c&&!d,h=function(){d=null,c||a.apply(e,f)};clearTimeout(d),d=setTimeout(h,b),g&&a.apply(e,f)}}function i(a){var b=arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(){},c=document.createElement("script");c.src=a,document.body.appendChild(c),c.onload=b}function j(a,b){var c=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;if(a.length===c)return b();a[c](function(){c++,j(a,b,c)})}function k(a,b,c){"function"==typeof b&&(c=b,b={}),b=g(b,{type:"GET",data:{}}),c=c||function(){};var d=new window.XMLHttpRequest;d.open(b.type,a),d.setRequestHeader("Content-Type","application/json;charset=UTF-8"),d.setRequestHeader("X-Requested-With","XMLHttpRequest"),d.onload=function(){if(d.status>=200&&d.status<400){var a=JSON.parse(d.responseText||"{}");c(null,a)}else c(d)},d.onerror=function(){c(d)},d.send(JSON.stringify(b.data))}function l(a,b){return a.prototype=Object.create(b.prototype),a.prototype.constructor=a,a.super=Object.getPrototypeOf(a.prototype),a}function m(a,b){var c=[];window.location.hash&&(c=window.location.hash.substr(1).split("&"));var d={},e="";if(c.forEach(function(a,b){var c=a.split("=");d[c[0]]=c[1]||""}),a){if(!b)return d[a];d[a]=b}return Object.keys(d).forEach(function(a,b){b>0&&(e+="&"),e+=a,d[a]&&(e+="="+d[a])}),e}var n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&"function"==typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a};b.exports={clone:e,extend:g,closest:d,debounce:h,loadScript:i,async:j,fetch:k,hash:m,inherits:l}},{}]},{},[5]);